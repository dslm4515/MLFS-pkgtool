# Final System: Groff
# This section is done in Chroot environment

export PNAME="groff"  &&
export   VER="1.22.4" &&
export  MJOB="-j2"   &&

# For users in the United States, PAGE=letter is appropriate. 
# Elsewhere, PAGE=A4 may be more suitable.
# It can be overridden later by echoing either `A4` or 
# `letter` to the `/etc/papersize` file.

# Configure with clang
CC=clang CXX=clang++ \
PAGE=<paper_size> ./configure --prefix=/usr

# Compile and install
make 
make DESTDIR=$BUILD install

# Build package
cd ${BUILD} && mkdir -v ${BUILD}/install          &&
cp -v $DESCS/${PNAME} ${BUILD}/install/slack-desc &&
makepkg -l y -c n $PKGS/${PNAME}-${VER}-$PSUFFIX  &&

# Clean stage area
rm -rf ${BUILD}/* &&

# Install
spkg $PKGS/${PNAME}-${VER}-$PSUFFIX
